{"version":3,"file":"index-gDWDQU0b.js","sources":["../src/assets/start.png","../src/components/Button.vue","../src/components/Popup.vue","../src/components/Game.vue","../src/App.vue","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET___QoXpMvz__\"","<script setup></script>\r\n\r\n<template>\r\n\t<button><slot></slot></button>\r\n</template>\r\n\r\n<style scoped>\r\nbutton {\r\n\tfont-size: 1em;\r\n\tpadding: 1vw 3vw;\r\n\tborder: 2px solid #fafafa;\r\n\tcursor: pointer;\r\n\tbackground-color: #f4b184;\r\n\tfont-weight: 900;\r\n\ttransition: scale 0.3s, border-radius 0.3s, box-shadow 0.5s;\r\n}\r\n\r\nbutton:hover {\r\n\tscale: 1.05;\r\n\tborder-radius: 2vw;\r\n\tbox-shadow: 0vw 0vw 2vw 1vw #fafafa;\r\n}\r\n</style>\r\n","<script setup>\r\nimport Button from './Button.vue'\r\nconst props = defineProps(['isBad'])\r\n\r\nconst restart = () => {\r\n\tlocation.reload()\r\n}\r\n</script>\r\n\r\n<template>\r\n\t<div v-if=\"!isBad\" class=\"container\">\r\n\t\t<h3>ВЫ ОТЛИЧНО СПРАВИЛИСЬ С ЗАДАНИЕМ!</h3>\r\n\t\t<p>ЧТОБЫ ПРОЙТИ ТРЕНИРОВКУ ЕЩЕ РАЗ НАЖМИТЕ КНОПКУ ПРОЙТИ СНОВА</p>\r\n\t\t<Button @click=\"restart\">ПРОЙТИ СНОВА</Button>\r\n\t</div>\r\n\t<div v-else class=\"container\">\r\n\t\t<h2>\r\n\t\t\tВЫ ДОПУСТИЛИ ОШИБКУ. <br />\r\n\t\t\tПОПРОБУЙТЕ СНОВА\r\n\t\t</h2>\r\n\t\t<Button @click=\"restart\">ПРОЙТИ СНОВА</Button>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped>\r\n.container {\r\n\tmin-width: 10vw;\r\n\tmin-height: 27vw;\r\n\tborder: 1px solid black;\r\n\tbackground-color: #ccc2b8;\r\n\tdisplay: flex;\r\n\tflex-flow: column nowrap;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 3vw 2vw;\r\n}\r\n\r\n.container h3 {\r\n\ttext-align: center;\r\n\tfont-size: 1em;\r\n\tcolor: #06b155;\r\n}\r\n\r\n.container p {\r\n\ttext-align: center;\r\n\tcolor: #06b155;\r\n}\r\n\r\n.container h2 {\r\n\tmargin-top: 3vw;\r\n\ttext-align: center;\r\n\tfont-size: 1.3em;\r\n\tcolor: red;\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"game-container\">\r\n\t\t<!-- Зона для перетаскивания -->\r\n\t\t<div class=\"dropzone\">\r\n\t\t\t<div\r\n\t\t\t\tv-for=\"(block, index) in formula\"\r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t:class=\"['drop-block', block.text ? 'filled-block' : '']\"\r\n\t\t\t\t@dragover.prevent\r\n\t\t\t\t@drop=\"dropItem(index)\"\r\n\t\t\t>\r\n\t\t\t\t{{ block.text || 'Перетащите сюда' }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- Плашки для перетаскивания -->\r\n\t\t<div class=\"draggable-list\">\r\n\t\t\t<div\r\n\t\t\t\tv-for=\"(block, index) in blocks\"\r\n\t\t\t\t:key=\"block.id\"\r\n\t\t\t\t:class=\"[\r\n\t\t\t\t\t'draggable-block',\r\n\t\t\t\t\tusedIndices.includes(index) ? 'disabled' : '',\r\n\t\t\t\t]\"\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\t@dragstart=\"!usedIndices.includes(index) && startDrag(index)\"\r\n\t\t\t>\r\n\t\t\t\t{{ block.text }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"container__btn\" v-if=\"isButtonVisible && !isShowPopup\">\r\n\t\t\t<Button @click=\"checkFormula\">Проверить</Button>\r\n\t\t</div>\r\n\r\n\t\t<div v-if=\"isShowPopup\" class=\"container_popup\">\r\n\t\t\t<Popup :isBad=\"isBadResult\"></Popup>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport Button from './Button.vue'\r\nimport Popup from './Popup.vue'\r\n\r\nconst isShowPopup = ref(false)\r\n\r\nconst isButtonVisible = computed(() => {\r\n\treturn formula.value.filter(block => block.text).length >= 5\r\n})\r\n\r\n// Исходные элементы\r\nconst blocks = ref([\r\n\t{ id: 1, text: 'Общее количество работников компании' },\r\n\t{ id: 2, text: 'Общее количество работников, включая ГПД и самозанятых' },\r\n\t{\r\n\t\tid: 3,\r\n\t\ttext: '% допустимой доли иностранных работников по виду экономической деятельности компании',\r\n\t},\r\n\t{ id: 4, text: 'допустимое количество иностранных работников' },\r\n\t{ id: 5, text: '=' },\r\n\t{ id: 6, text: 'x' },\r\n])\r\n\r\n// Пустая формула\r\nconst formula = ref(Array(5).fill({ text: '' }))\r\n\r\n// Правильная последовательность\r\nconst correctFormula = [\r\n\t'Общее количество работников компании',\r\n\t'x',\r\n\t'% допустимой доли иностранных работников по виду экономической деятельности компании',\r\n\t'=',\r\n\t'допустимое количество иностранных работников',\r\n]\r\n\r\nconst draggedIndex = ref(null)\r\nconst usedIndices = ref([]) // Отслеживание использованных индексов\r\n\r\n// Начало перетаскивания\r\nconst startDrag = index => {\r\n\tdraggedIndex.value = index\r\n}\r\n\r\n// Обработка дропа\r\nconst dropItem = index => {\r\n\tif (formula.value[index].text === '') {\r\n\t\t// Проверяем, был ли уже использован блок\r\n\t\tif (!usedIndices.value.includes(draggedIndex.value)) {\r\n\t\t\t// Добавляем блок в формулу\r\n\t\t\tformula.value[index] = blocks.value[draggedIndex.value]\r\n\t\t\tusedIndices.value.push(draggedIndex.value) // Помечаем блок как использованный\r\n\t\t\tdraggedIndex.value = null\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst isBadResult = ref(false)\r\n\r\n// Проверка формулы\r\nconst checkFormula = () => {\r\n\t// Удаляем пустые элементы из пользовательской формулы\r\n\tconst userFormula = formula.value\r\n\t\t.map(block => block.text.trim())\r\n\t\t.filter(text => text)\r\n\r\n\t// Удаляем пустые элементы из правильной формулы\r\n\tconst filteredCorrectFormula = correctFormula.filter(text => text)\r\n\r\n\t// Проверяем порядок элементов\r\n\tlet isCorrect = true\r\n\tlet lastIndex = -1\r\n\r\n\tfor (const item of filteredCorrectFormula) {\r\n\t\tconst currentIndex = userFormula.indexOf(item)\r\n\t\tif (currentIndex === -1 || currentIndex <= lastIndex) {\r\n\t\t\tisCorrect = false\r\n\t\t\tbreak\r\n\t\t}\r\n\t\tlastIndex = currentIndex\r\n\t}\r\n\tif (userFormula.length > 5) isCorrect = false\r\n\r\n\tif (isCorrect) {\r\n\t\tisBadResult.value = false\r\n\t} else {\r\n\t\tisBadResult.value = true\r\n\t}\r\n\tisShowPopup.value = true\r\n}\r\n</script>\r\n\r\n<style>\r\n/* Основной контейнер */\r\n.game-container {\r\n\tmax-width: 100%;\r\n\tmargin: 0 auto;\r\n\tpadding: 20px;\r\n\ttext-align: center;\r\n\tposition: relative;\r\n}\r\n\r\n/* Зона для перетаскивания */\r\n.dropzone {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tgap: 10px;\r\n\tmargin-bottom: 20px;\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.drop-block {\r\n\tflex: 1;\r\n\tmin-height: 19vw;\r\n\tborder: 2px dashed #ccc;\r\n\tbackground-color: #f9f9f9;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 0.8em;\r\n\tcolor: #777;\r\n\tpadding: 5px;\r\n\ttransition: background-color 0.3s;\r\n}\r\n\r\n.filled-block {\r\n\tbackground-color: #e1f5fe;\r\n\tborder: 1px solid #ccc;\r\n\tcolor: #000;\r\n}\r\n\r\n/* Доступные элементы */\r\n.draggable-list {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tgap: 10px;\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.draggable-block {\r\n\tflex: 1;\r\n\theight: auto;\r\n\tborder: 1px solid #ccc;\r\n\tbackground-color: #e1f5fe;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 0.8em;\r\n\tcursor: grab;\r\n\tpadding: 0.5vw;\r\n\tmax-width: 17vw;\r\n\tmin-height: 18vw;\r\n}\r\n\r\n.container__btn {\r\n\tmargin-top: 2vw;\r\n\tanimation: hide 1s alternate;\r\n}\r\n\r\n@keyframes hide {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n.disabled {\r\n\topacity: 0;\r\n\tcursor: default;\r\n}\r\n\r\n.container_popup {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-content: center;\r\n\tposition: absolute;\r\n\ttop: 10vw;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tz-index: 100;\r\n\tanimation: hide 1s alternate;\r\n}\r\n</style>\r\n","<script setup>\nimport StartPage from './components/StartPage.vue'\nimport Game from './components/Game.vue'\nimport { ref } from 'vue'\n\nconst isStart = ref(false)\n</script>\n\n<template>\n\t<Transition name=\"bounce\" mode=\"out-in\">\n\t\t<div v-if=\"!isStart\">\n\t\t\t<StartPage @start=\"isStart = true\"></StartPage>\n\t\t</div>\n\n\t\t<div v-else>\n\t\t\t<Game></Game>\n\t\t</div>\n\t</Transition>\n</template>\n\n<style scoped></style>\n","import { createApp } from 'vue'\nimport './style.css'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n"],"names":["_imports_0","_cache","_openBlock","_createElementBlock","restart","isShowPopup","ref","isButtonVisible","computed","formula","block","blocks","correctFormula","draggedIndex","usedIndices","startDrag","index","dropItem","isBadResult","checkFormula","userFormula","text","filteredCorrectFormula","isCorrect","lastIndex","item","currentIndex","isStart","createApp","App"],"mappings":"+1BAAA,MAAeA,EAAA,6ICGgBC,EAAA,QAATC,EAAA,EAAAC,EAAA,SAAA,KAAA,koBCCtB,MAAMC,EAAU,IAAM,CACrB,SAAS,OAAQ,CAClB,srBCwCA,MAAMC,EAAcC,EAAI,EAAK,EAEvBC,EAAkBC,EAAS,IACzBC,EAAQ,MAAM,OAAOC,GAASA,EAAM,IAAI,EAAE,QAAU,CAC3D,EAGKC,EAASL,EAAI,CAClB,CAAE,GAAI,EAAG,KAAM,sCAAwC,EACvD,CAAE,GAAI,EAAG,KAAM,wDAA0D,EACzE,CACC,GAAI,EACJ,KAAM,sFACN,EACD,CAAE,GAAI,EAAG,KAAM,8CAAgD,EAC/D,CAAE,GAAI,EAAG,KAAM,GAAK,EACpB,CAAE,GAAI,EAAG,KAAM,GAAK,CACrB,CAAC,EAGKG,EAAUH,EAAI,MAAM,CAAC,EAAE,KAAK,CAAE,KAAM,EAAE,CAAE,CAAC,EAGzCM,EAAiB,CACtB,uCACA,IACA,uFACA,IACA,8CACD,EAEMC,EAAeP,EAAI,IAAI,EACvBQ,EAAcR,EAAI,EAAE,EAGpBS,EAAYC,GAAS,CAC1BH,EAAa,MAAQG,CACtB,EAGMC,EAAWD,GAAS,CACrBP,EAAQ,MAAMO,CAAK,EAAE,OAAS,KAE5BF,EAAY,MAAM,SAASD,EAAa,KAAK,IAEjDJ,EAAQ,MAAMO,CAAK,EAAIL,EAAO,MAAME,EAAa,KAAK,EACtDC,EAAY,MAAM,KAAKD,EAAa,KAAK,EACzCA,EAAa,MAAQ,MAGxB,EAEMK,EAAcZ,EAAI,EAAK,EAGvBa,EAAe,IAAM,CAE1B,MAAMC,EAAcX,EAAQ,MAC1B,IAAIC,GAASA,EAAM,KAAK,KAAI,CAAE,EAC9B,OAAOW,GAAQA,CAAI,EAGfC,EAAyBV,EAAe,OAAOS,GAAQA,CAAI,EAGjE,IAAIE,EAAY,GACZC,EAAY,GAEhB,UAAWC,KAAQH,EAAwB,CAC1C,MAAMI,EAAeN,EAAY,QAAQK,CAAI,EAC7C,GAAIC,IAAiB,IAAMA,GAAgBF,EAAW,CACrDD,EAAY,GACZ,KACA,CACDC,EAAYE,CACZ,CACGN,EAAY,OAAS,IAAGG,EAAY,IAEpCA,EACHL,EAAY,MAAQ,GAEpBA,EAAY,MAAQ,GAErBb,EAAY,MAAQ,EACrB,ssBC7HA,MAAMsB,EAAUrB,EAAI,EAAK,iLCDzBsB,EAAUC,EAAG,EAAE,MAAM,MAAM"}